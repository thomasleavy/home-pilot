import{d as n,n as i}from"./chunk-NXQ7BON5.js";var o="mqtt-device-pilot.homeProfile",a=class t{preferredSubject=new n(this.readFromStorage());preferredUnit$=this.preferredSubject.asObservable();getPreferredUnit(){return this.preferredSubject.value}refresh(){this.preferredSubject.next(this.readFromStorage())}toDisplay(e){return this.preferredSubject.value==="F"?Math.round(e*9/5+32):Math.round(e*10)/10}toCelsius(e){return this.preferredSubject.value==="F"?Math.round((e-32)*5/9*10)/10:e}displayUnitLabel(){return this.preferredSubject.value==="F"?"\xB0F":"\xB0C"}readFromStorage(){try{let e=localStorage.getItem(o);return e&&JSON.parse(e).preferredTempUnit==="F"?"F":"C"}catch{return"C"}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"})};export{a};
